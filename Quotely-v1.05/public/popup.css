@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap);.container,body{background:#fff}.container,.main-content{display:flex;overflow:hidden}.error-message,.footer,.header,.segment-option,.settings-body p{text-align:center}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Poppins,sans-serif;color:#333}.container{width:400px;height:245px;box-shadow:0 10px 30px rgba(0,0,0,.2);flex-direction:column;transition:height .3s}.container.expanded{height:600px}.container.medium-expanded{height:345px}.container.segment-expanded{height:365px}.container.pdf-upload-expanded{height:355px}.header{background:#2563eb;color:#fff;padding:8px 20px;position:relative}.logo{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:4px}.header-controls{position:absolute;top:8px;right:8px}.settings-btn{background:0 0;border:none;cursor:pointer;padding:4px;border-radius:4px;transition:background-color .2s}.settings-btn:hover{background-color:rgba(255,255,255,.1)}.settings-icon{width:20px;height:20px;transition:transform .4s cubic-bezier(.25, .46, .45, .94)}.settings-btn.rotated .settings-icon{transform:rotate(90deg)}.logo-img{width:32px;height:32px}.find-quotes-btn,.topic-input{width:100%;font-family:Poppins,sans-serif}.logo h1{font-size:20px;font-weight:700;margin:0}.subtitle{font-size:12px;opacity:.9;font-weight:400}.main-content{padding:8px 20px 16px;flex:1;flex-direction:column;min-height:0;max-height:calc(100% - 90px)}.input-section{margin-bottom:8px}.input-label{display:block;font-weight:500;color:#374151;margin-bottom:1px;font-size:14px}.topic-input{padding:8px 12px;border:2px solid #e5e7eb;font-size:14px;resize:none;height:62px;transition:border-color .2s}.topic-input:focus{outline:0;border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.1)}.find-quotes-btn{background:#2563eb;color:#fff;border:none;padding:10px 24px;font-size:16px;font-weight:600;cursor:pointer;margin-top:8px;margin-bottom:8px;transition:background-color .2s;display:flex;align-items:center;justify-content:center;gap:8px}.find-quotes-btn:hover:not(:disabled){background:#1d4ed8;position:relative;overflow:hidden}.find-quotes-btn:hover:not(:disabled)::before{content:'';position:absolute;top:-50%;left:-150%;width:50%;height:200%;background:linear-gradient(120deg,transparent,rgba(255,255,255,.4),transparent);animation:.5s ease-in-out glare;transform:skewX(-25deg)}.find-quotes-btn:disabled{opacity:.7;cursor:not-allowed;transform:none}.search-icon{width:16px;height:16px;margin-left:-2px;filter:brightness(0) invert(1)}.loading-spinner{border-top:2px solid #fff}@keyframes glare{0%{left:-150%;top:-50%}100%{left:150%;top:50%}}.results-section{margin-top:-5px;flex:1;display:flex;flex-direction:column;min-height:0}.results-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.results-header h3{color:#374151;font-size:18px;font-weight:600}.quote-count{font-family:Poppins,sans-serif;font-style:italic;font-weight:400;font-size:13px}.citation-format-selector{display:flex;align-items:center;gap:8px}.citation-format-selector label{font-size:12px;color:#6b7280;font-weight:500}.format-select{padding:4px 8px;border:1px solid #d1d5db;font-size:12px;background:#fff;color:#374151}.quotes-container{flex:1;overflow-y:auto;min-height:200px;max-height:305px;padding-bottom:0;padding-right:8px;margin-bottom:0}.quote-item{background:#f8fafc;border:1px solid #e2e8f0;padding:16px;margin-bottom:12px;transition:.2s;position:relative}.quote-pin{position:absolute;top:4px;right:4px;cursor:pointer;opacity:.3;transition:opacity .2s;z-index:10}.quote-pin:hover{opacity:.8}.quote-help:hover,.quote-item.pinned .quote-pin{opacity:1}.pdf-file-drop-area:hover,.quote-item.pinned{border-color:#2563eb;background:#eff6ff}.quote-item:hover{border-color:#2563eb;box-shadow:0 2px 8px rgba(37,99,235,.1)}.quote-text{font-style:italic;color:#374151;margin-bottom:12px;line-height:1.5;font-size:14px;padding-right:30px}.quote-actions{display:flex;gap:8px;flex-wrap:wrap}.action-btn{padding:6px 18px;border:1px solid #d1d5db;background:#fff;color:#374151;font-size:12px;font-weight:500;cursor:pointer;transition:.2s;font-family:Poppins,sans-serif;min-width:120px;white-space:nowrap;display:flex;align-items:center;justify-content:center;gap:6px}.action-btn:hover,.generate-citation-btn:hover{background:#e5e7eb;color:#374151;border-color:#d1d5db}.pdf-no-citation,.pdf-no-citation:hover{background:#f3f4f6!important;color:#6b7280!important;border-color:#d1d5db!important}.pdf-no-citation{cursor:not-allowed!important;font-size:11px!important;padding:6px 10px!important}.copy-btn{background:#2563eb;color:#fff;border-color:#2563eb}.copy-btn:hover{background:#1d4ed8;border-color:#1d4ed8;color:#fff!important}.pdf-file-drop-area{border:2px dashed #d1d5db;border-radius:8px;padding:20px;text-align:center;background:#f9fafb;cursor:pointer;transition:.2s}.pdf-file-drop-area.drag-over{border-color:#2563eb;background:#dbeafe;border-style:solid}.drop-area-text{font-size:14px;color:#6b7280;pointer-events:none}.quote-help{display:inline-flex;align-items:center;justify-content:center;cursor:help;user-select:none;opacity:.7;transition:opacity .2s;width:24px;height:24px;margin-left:4px;vertical-align:middle;transform:translateY(3px)}.quote-help::after,.settings-popup,.theme-toggle-input{opacity:0;position:absolute}.quote-help img{width:24px!important;height:24px!important;object-fit:contain;max-width:none;max-height:none}.quote-help::after{content:attr(data-help);right:100%;bottom:100%;transform:translateY(30px) translateX(-8px);background:#111827;color:#fff;padding:10px 14px;border:1px solid #374151;font-size:13px;line-height:1.4;max-width:250px;min-width:240px;white-space:normal;box-shadow:0 4px 12px rgba(0,0,0,.25);transition:opacity .12s,transform .12s;pointer-events:none;z-index:20;border-radius:6px}.quote-help:hover::after{opacity:1;transform:translateY(30px) translateX(-8px)}.quote-item:first-child .quote-help::after{display:none}.citation-display{margin-top:8px;font-size:12px;color:#475569;font-family:'Courier New',monospace;word-break:break-all}.citation-copy-btn,.citation-text{font-size:11px;font-family:Poppins,sans-serif}.citation-item{display:flex;align-items:center;gap:12px;margin-bottom:12px;background:#f8fafc;border-radius:8px;padding:4px}.citation-item:last-child{margin-bottom:0}.citation-text{flex:1;color:#374151;line-height:1.5}.citation-copy-btn{background:#2563eb;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s;flex-shrink:0}.citation-copy-btn:hover{background:#1d4ed8}.citation-divider{height:1px;background:#e2e8f0;margin:-10px 2px 4px}.error-message{background:#fef2f2;border:1px solid #fecaca;padding:16px;color:#dc2626;font-size:14px}.footer{background:#f8fafc;padding:2px;color:#6b7280;font-size:11px;border-top:1px solid #e2e8f0;flex-shrink:0;height:18px;display:flex;align-items:center;justify-content:center}.quotes-container::-webkit-scrollbar,.segment-container::-webkit-scrollbar{width:6px}.quotes-container::-webkit-scrollbar-track,.segment-container::-webkit-scrollbar-track{background:#ebeef3;border-radius:3px}.quotes-container::-webkit-scrollbar-thumb,.segment-container::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.quotes-container::-webkit-scrollbar-thumb:hover,.segment-container::-webkit-scrollbar-thumb:hover{background:#94a3b8}.loading-spinner{display:inline-block;width:16px;height:16px;border:2px solid #e2e8f0;border-radius:50%;border-top-color:#3b82f6;animation:1s ease-in-out infinite spin;margin-right:8px}@keyframes spin{0%{transform:rotate(0)}100%,to{transform:rotate(360deg)}}.loading-text{color:#6b7280;font-size:14px;display:flex;align-items:center;justify-content:center;padding:20px}.citation-content{background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px;margin:8px 0;font-family:Georgia,serif;line-height:1.5}.segmented-btn,.specificity-label{font-family:Poppins,sans-serif;font-weight:500}.citation-full{font-size:14px;color:#374151;margin-bottom:8px;word-wrap:break-word}.citation-intext{font-size:13px;color:#6b7280;font-style:italic;border-left:3px solid #3b82f6;padding-left:8px;background:#f1f5f9;border-radius:0 4px 4px 0}.citation-label{font-size:12px;font-weight:600;color:#4b5563;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.segment-container{flex:1;overflow-y:auto;min-height:100px;max-height:115px;padding-bottom:0;padding-right:8px;margin-bottom:0}.segment-selector{padding:8px 20px;display:flex;flex-direction:column;height:100%;overflow:hidden}.segment-selector p{color:#6b7280;font-size:13px;margin-bottom:12px}.segments-list{display:flex;flex-direction:column;gap:8px;align-items:center;overflow-y:auto;flex:1;min-height:0;padding-right:8px}.segment-row{display:flex;gap:10px;justify-content:center}.segment-option{background:#2563eb;border:2px solid #2563eb;border-radius:8px;padding:12px 20px;cursor:pointer;transition:.2s;font-weight:600;font-size:16px;color:#fff;width:50px;min-width:50px;max-width:50px;display:flex;align-items:center;justify-content:center}.segment-option:hover{border-color:#1d4ed8;background:#1d4ed8;color:#fff}.settings-popup{top:100%;right:0;left:auto;background:#fff;border-radius:8px;box-shadow:0 8px 25px rgba(0,0,0,.15);width:280px;z-index:1000;transform-origin:top right;transform:translateY(-10px) scale(.95);transition:.2s;pointer-events:none;border:1px solid #e5e7eb}.settings-popup.show{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}.settings-content{display:flex;flex-direction:column;overflow:hidden}.settings-title{margin:0;padding:8px 16px;font-size:16px;font-weight:600;color:#2563eb}.settings-body{padding:8px 16px 16px;flex:1;overflow-y:auto}.setting-item,.theme-toggle{align-items:center;display:flex}.settings-body p{color:#6b7280;font-style:italic;margin:0;font-size:14px}.contact-info{margin-top:16px!important;margin-bottom:-8px!important;font-size:12px!important;color:#303030!important}.setting-item{justify-content:center;margin-bottom:16px}.setting-label{font-size:14px;font-weight:500;color:#374151}.theme-toggle{gap:12px}.theme-icon{width:24px;height:24px;transition:opacity .3s}.theme-toggle-input{width:0;height:0}.theme-toggle-slider{position:relative;width:60px;height:30px;background:#e5e7eb;border-radius:15px;transition:.3s;cursor:pointer;display:flex;align-items:center;padding:3px}.theme-toggle-thumb{position:absolute;width:24px;height:24px;background:#fff;border-radius:50%;transition:transform .3s cubic-bezier(.25, .46, .45, .94);box-shadow:0 2px 4px rgba(0,0,0,.1);left:3px}.theme-toggle-input:checked~.theme-toggle-slider{background:#3b82f6}.theme-toggle-input:checked~.theme-toggle-slider .theme-toggle-thumb{transform:translateX(31px)}.dark-mode,.dark-mode .results-section{background:#111827}.dark-mode .find-quotes-btn,.dark-mode .find-quotes-btn:hover:not(:disabled),.dark-mode .header{background:#2563eb}.dark-mode .header .settings-btn:hover{background-color:rgba(255,255,255,.15)}.dark-mode .topic-input{background:#1f2937;border:2px solid #374151;color:#f3f4f6}.dark-mode .topic-input:focus{border-color:#60a5fa;box-shadow:0 0 0 3px rgba(96,165,250,.1)}.dark-mode .topic-input::placeholder{color:#9ca3af}.dark-mode .input-label,.dark-mode .results-header h3{color:#f3f4f6}.dark-mode .btn:disabled{background:#374151;color:#6b7280}.dark-mode .footer{background:#1f2937;border-top:1px solid #374151;color:#9ca3af}.dark-mode .quote-item,.dark-mode .settings-popup{background:#1f2937;border:1px solid #374151}.dark-mode .pdf-file-drop-area:hover,.dark-mode .quote-item.pinned{border-color:#60a5fa;background:#1e3a5f}.dark-mode .quote-item:hover{border-color:#60a5fa}.dark-mode .quote-text{color:#e5e7eb}.dark-mode .citation-format-selector label,.dark-mode .drop-area-text,.dark-mode .loading-text{color:#9ca3af}.dark-mode .format-select{background:#1f2937;border-color:#374151;color:#f3f4f6}.dark-mode .action-btn{background:#374151;border-color:#4b5563;color:#f3f4f6}.dark-mode .action-btn:hover{background:#4b5563;color:#f3f4f6}.dark-mode .copy-btn{background:#2563eb;color:#fff}.dark-mode .copy-btn:hover{background:#1d4ed8;color:#fff}.dark-mode .pdf-no-citation,.dark-mode .pdf-no-citation:hover{background:#374151!important;color:#9ca3af!important;border-color:#4b5563!important}.dark-mode .settings-title,.dark-mode .specificity-label{color:#60a5fa}.dark-mode .contact-info{color:#9ca3af!important}.dark-mode .error-message{background:#7f1d1d;color:#fca5a5}.dark-mode .segmented-control{border:1px solid #374151}.dark-mode .segmented-btn{background:#1f2937;color:#f3f4f6}.dark-mode .segmented-btn:not(:last-child){border-right:1px solid #374151}.dark-mode .segmented-btn:hover:not(.active){background:#374151}.dark-mode .segmented-btn.active,.segmented-btn.active{background:#3b82f6;color:#fff}.dark-mode .quotes-container::-webkit-scrollbar,.dark-mode .segment-container::-webkit-scrollbar{width:6px}.dark-mode .quotes-container::-webkit-scrollbar-track,.dark-mode .segment-container::-webkit-scrollbar-track{background:#1f2937;border-radius:3px}.dark-mode .quotes-container::-webkit-scrollbar-thumb,.dark-mode .segment-container::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.dark-mode .quotes-container::-webkit-scrollbar-thumb:hover,.dark-mode .segment-container::-webkit-scrollbar-thumb:hover{background:#60a5fa}.dark-mode .pdf-file-drop-area{background:#1f2937;border-color:#374151}.dark-mode .pdf-file-drop-area.drag-over{border-color:#60a5fa;background:#1e40af;border-style:solid}.specificity-control{width:100%;display:flex;flex-direction:column;gap:8px}.specificity-label{font-size:12px;color:#2563eb;margin:0}.segmented-control{display:flex;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;width:100%}.segmented-btn{flex:1;padding:8px 12px;border:none;background:#fff;color:#374151;font-size:14px;cursor:pointer;transition:.2s;position:relative}.segmented-btn:not(:last-child){border-right:1px solid #e5e7eb}.segmented-btn:hover:not(.active){background:#e5e7eb}.segmented-btn:first-child{border-radius:7px 0 0 7px}.segmented-btn:last-child{border-radius:0 7px 7px 0}